{"version":3,"sources":["uni-app:///main.js","webpack:///E:/表格文件/code/GarbageSort-master/frontend/pages/mine/mine.vue?82d9","webpack:///E:/表格文件/code/GarbageSort-master/frontend/pages/mine/mine.vue?aa63","webpack:///E:/表格文件/code/GarbageSort-master/frontend/pages/mine/mine.vue?657f","webpack:///E:/表格文件/code/GarbageSort-master/frontend/pages/mine/mine.vue?6016","uni-app:///pages/mine/mine.vue","webpack:///E:/表格文件/code/GarbageSort-master/frontend/pages/mine/mine.vue?8d2f"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","recyclableRender","components","render","staticRenderFns"],"mappings":"6HAAA,KACA,YACA,Y,mDAFmBA,GAAGC,kCAAoCC,EAG1DC,EAAWC,a,gECHX,yHACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,sBACZ,aAAAF,E,0CCvBf,uQ,iCCAA,8LAEIG,EACAC,EAHAC,EAAS,aACTC,EAAkB,I,iCCDtB,8GAAisB,eAAG,G,sHCapsB,CACA,KADA,WAEA,OACA,QACA,cACA,yCACA,YAGA,OATA,aAYA,SACA,aADA,WAEA,WACA,iBACA,QADA,WAEA,+BACA,UACA,WAGA,KAPA,WAQA,gCAEA,UACA,oBAKA,YAnBA,WAoBA,sBACA,WACA,kBACA,UACA,aACA,oBACA,UACA,gCACA,+BACA,kCAYA,iBACA,uBACA,aACA,aACA,aACA,mBAwCA,MAtFA,WAuFA,WACA,eACA,iBAGA,SACA,kBACA,oBACA,WACA,OACA,+BACA,WACA,sCACA,cACA,QACA,mCAEA,MACA,aAEA,oBAEA,4BACA,iCAGA,WACA,2CACA,cACA,QACA,mCAGA,MACA,oBACA,sBACA,iBAEA,oBACA,2BAIA,wBAQA,aACA,cACA,eAEA,oC,2ECvKA,8GAAo/B,eAAG,G","file":"pages/mine/mine.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/mine/mine.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./mine.vue?vue&type=template&id=dcbcfe34&\"\nvar renderjs\nimport script from \"./mine.vue?vue&type=script&lang=js&\"\nexport * from \"./mine.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mine.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/mine/mine.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mine.vue?vue&type=template&id=dcbcfe34&\"","var render = function () {}\nvar staticRenderFns = []\nvar recyclableRender\nvar components\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mine.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mine.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"userinfo\" @tap=\"GetUserInfo()\">\r\n\t\t<image :src=\"avatarUrl\" class=\"userinfo-avatar\"></image>\n\t\t<!-- <button v-show=\"!flag\" style=\"margin-bottom: 40rpx; \" type=\"primary\" lang=\"zh_CN\">登录</button> -->\r\n\t\t<view class=\"userinfo-nickname\" >{{nickName}}</view>\n\t</view>\r\n\t\r\n\t<uni-card title=\"基础卡片\" sub-title=\"副标题\" extra=\"额外信息\" thumbnail=\"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-dc-site/460d46d0-4fcc-11eb-8ff1-d5dcf8779628.png\">\n\t\t<text>这是一个带头像和双标题的基础卡片，此示例展示了一个完整的卡片。</text>\n\t</uni-card>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\r\n\t\t\t\tflag:false,\n\t\t\t\tnickName:\"登录\",\n\t\t\t\tavatarUrl:\"../../static/icos/camera.png\",\r\n\t\t\t\topenId:\"\"\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t\t\n\t\t},\n\t\tmethods: {\r\n\t\t\tCheckSession(){\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\twx.checkSession({\r\n\t\t\t\t  success() {\r\n\t\t\t\t\tconsole.log('session_key 未过期');\r\n\t\t\t\t\t_this.flag = true;\r\n\t\t\t\t\t_this.login();\r\n\t\t\t\t    // session_key 未过期，并且在本生命周期一直有效\r\n\t\t\t\t  },\r\n\t\t\t\t  fail() {\r\n\t\t\t\t\tconsole.log('session_key 已经失效');\r\n\t\t\t\t    // session_key 已经失效，需要重新执行登录流程\r\n\t\t\t\t    _this.flag = false;\r\n\t\t\t\t\t_this.GetUserInfo();\r\n\t\t\t\t\t\r\n\t\t\t\t  }\r\n\t\t\t\t})\r\n\t\t\t},\n\t\t\tGetUserInfo() {\r\n\t\t\t\tconsole.log('获取用户信息');\n\t\t\t\tvar _this = this;\n\t\t\t\tuni.getUserProfile({\n\t\t\t\t\tdesc: '登录',\n\t\t\t\t\tlang: 'zh_CN',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t_this.login();\n\t\t\t\t\t\tconsole.log('获取的信息', res.userInfo);\n\t\t\t\t\t\t_this.nickName = res.userInfo.nickName;\n\t\t\t\t\t\t_this.avatarUrl = res.userInfo.avatarUrl;\n\t\t\t\t\t\t// _this.setNn(res.userInfo.nickName);\n\t\t\t\t\t\t// uni.getLocation({\n\t\t\t\t\t\t// \ttype: 'gci02',\n\t\t\t\t\t\t// \tsuccess: res => {\n\t\t\t\t\t\t// \t\tuni.reLaunch({\n\t\t\t\t\t\t// \t\t\turl: 'Login2'\n\t\t\t\t\t\t// \t\t});\n\t\t\t\t\t\t// \t}\n\t\t\t\t\t\t// });\t\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t},\n\t\t\t\t\tfail: (res) => {\n\t\t\t\t\t\tconsole.log('用户拒绝了授权');\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '授权失败',\n\t\t\t\t\t\t\ticon: 'error',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t// 增加约束,不选协议无法进行授权\n\t\t\t\t// if (this.value === false) {\n\t\t\t\t// \tuni.showToast({\n\t\t\t\t// \t\ttitle: '请阅读勾选协议',\n\t\t\t\t// \t\ticon: 'error',\n\t\t\t\t// \t\tduration: 2000\n\t\t\t\t// \t});\n\t\t\t\t// } else {\n\t\t\t\t// \tuni.getUserProfile({\n\t\t\t\t// \t\tdesc: '登录',\n\t\t\t\t// \t\tlang: 'zh_CN',\n\t\t\t\t// \t\tsuccess: (res) => {\n\t\t\t\t// \t\t\tconsole.log('获取的信息', res.userInfo);\n\t\t\t\t// \t\t\t_this.nickName = res.userInfo.nickName;\n\t\t\t\t// \t\t\t_this.setNn(res.userInfo.nickName);\n\t\t\t\t// \t\t\tuni.getLocation({\n\t\t\t\t// \t\t\t\ttype: 'gci02',\n\t\t\t\t// \t\t\t\tsuccess: res => {\n\t\t\t\t// \t\t\t\t\tuni.reLaunch({\n\t\t\t\t// \t\t\t\t\t\turl: 'Login2'\n\t\t\t\t// \t\t\t\t\t});\n\t\t\t\t// \t\t\t\t}\n\t\t\t\t// \t\t\t});\n\t\t\t\t// \t\t},\n\t\t\t\t// \t\tfail: (res) => {\n\t\t\t\t// \t\t\tconsole.log('用户拒绝了授权');\n\t\t\t\t// \t\t\tuni.showToast({\n\t\t\t\t// \t\t\t\ttitle: '授权失败',\n\t\t\t\t// \t\t\t\ticon: 'error',\n\t\t\t\t// \t\t\t\tduration: 2000\n\t\t\t\t// \t\t\t});\n\t\t\t\t// \t\t}\n\t\t\t\t// \t});\n\t\t\t\t\n\t\t\t},\n\t\t\t\n\t\t\tlogin() {\n\t\t\t\tlet _this = this;\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '登录中...'\n\t\t\t\t});\n\t\t\t\t// 获取登录用户 code\n\t\t\t\tuni.login({\n\t\t\t\t\tprovider: 'weixin',\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tif (res.code) {\n\t\t\t\t\t\t\tlet code = res.code;\n\t\t\t\t\t\t\tconsole.log('用户code: ', res.code);\n\t\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\t\turl: _this.serverUrl + `authorize/getOpenid`,\n\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\tcode: res.code, //wx.login 登录成功后的code \n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tsuccess: function(res1) {\r\n\t\t\t\t\t\t\t\t\t//openid 用户唯一标识\n\t\t\t\t\t\t\t\t\t_this.openId = res1.data.data.openid; \n\t\t\t\t\t\t\t\t\tconsole.log(\"openId: \" + _this.openId);\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t// 保存用户信息\r\n\t\t\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\t\t\turl: _this.serverUrl + `authorize/setUserProfile`,\r\n\t\t\t\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\t\t\"nickName\": _this.nickName, \r\n\t\t\t\t\t\t\t\t\t\t\t\"avatarUrl\": _this.avatarUrl,\r\n\t\t\t\t\t\t\t\t\t\t\t\"openId\": _this.openId \r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tsuccess: function(res1) {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('获取用户信息成功');\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t\t// uni.switchTab({\n\t\t\t      //                       // 登录成功后的跳转\n\t\t\t\t\t\t\t\t\t// \turl: '../index/index'\n\t\t\t\t\t\t\t\t\t// });\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '登录失败！',\n\t\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tconsole.log('登录失败！' + res.errMsg)\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\r\n\t\t\t\n\t\t}\n\t\t\n\t}\n\t\t\t// //新版登录方法\n\t\t\t// getUserProfile() {\n\t\t\t// \tuni.getUserProfile({\n\t\t\t// \t\tlang: 'zh_CN',\n\t\t\t// \t\tdesc: '用于获取您的个人信息',\n\t\t\t// \t\tsuccess: res => {\n\t\t\t// \t\t\tconsole.log(res.userInfo);\n\t\t\t// \t\t\tif (res.userInfo) {\n\t\t\t// \t\t\t\t//在此发起网络请求\n\t\t\t// \t\t\t\t//请求后端给的登录接口，把res.code等相关参数带上\n\t\t\t// \t\t\t\t//登录请求后待端接口方法\n\t\t\t// \t\t\t\tthis.wxLoginCode(res.userInfo, '888')\n\t\t\t\n\t\t\t// \t\t\t} else {\n\t\t\t// \t\t\t\t//失败做提示\n\t\t\t// \t\t\t}\n\t\t\t// \t\t},\n\t\t\t// \t\tfail: err => {\n\t\t\t// \t\t\tuni.showToast({\n\t\t\t// \t\t\t\ttitle: '你已拒绝登录',\n\t\t\t// \t\t\t\ticon: 'error',\n\t\t\t// \t\t\t\tduration: 2000\n\t\t\t// \t\t\t});\n\t\t\t// \t\t}\n\t\t\t// \t})\n\t\t\t// },\n</script>\n\n<style>\n.userinfo {\n  margin-top: 40rpx;\n  height: 140rpx;\n  width: 100%;\n  background: #aaffff;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-left: none;\n  border-right: none;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  transition: all 300ms ease;\n}\r\n\r\n.userinfo-avatar {\n  width: 100rpx;\n  height: 100rpx;\n  margin: 20rpx;\n  border-radius: 50%;\n  background-size: cover;\n  background-color: white;\n}\r\n\r\n.userinfo-nickname {\n  font-size: 32rpx;\n  color: #007aff;\n  /* background-size: cover; */\r\n  text-align: center;\n}\n\n</style>\n","import mod from \"-!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mine.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mine.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}