(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{164:function(e,n,t){"use strict";(function(e){t(5);o(t(3));var n=o(t(165));function o(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=t,e(n.default)}).call(this,t(1)["createPage"])},165:function(e,n,t){"use strict";t.r(n);var o=t(166),a=t(168);for(var i in a)"default"!==i&&function(e){t.d(n,e,(function(){return a[e]}))}(i);t(170);var r,c=t(11),s=Object(c["default"])(a["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],r);s.options.__file="pages/index/index.vue",n["default"]=s.exports},166:function(e,n,t){"use strict";t.r(n);var o=t(167);t.d(n,"render",(function(){return o["render"]})),t.d(n,"staticRenderFns",(function(){return o["staticRenderFns"]})),t.d(n,"recyclableRender",(function(){return o["recyclableRender"]})),t.d(n,"components",(function(){return o["components"]}))},167:function(e,n,t){"use strict";var o;t.r(n),t.d(n,"render",(function(){return a})),t.d(n,"staticRenderFns",(function(){return r})),t.d(n,"recyclableRender",(function(){return i})),t.d(n,"components",(function(){return o}));try{o={uniNoticeBar:function(){return t.e("components/uni-notice-bar/uni-notice-bar").then(t.bind(null,226))},uniPopup:function(){return t.e("components/uni-popup/uni-popup").then(t.bind(null,233))}}}catch(c){if(-1===c.message.indexOf("Cannot find module")||-1===c.message.indexOf(".vue"))throw c;console.error(c.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var a=function(){var e=this,n=e.$createElement,t=(e._self._c,e.getImage("icos/camera.png")),o=e.getImage("icos/record.png"),a=e.getImage("icos/ico-1.jpg"),i=e.getImage("icos/ico-2.jpg"),r=e.getImage("icos/ico-3.jpg"),c=e.getImage("icos/ico-4.jpg");e.$mp.data=Object.assign({},{$root:{m0:t,m1:o,m2:a,m3:i,m4:r,m5:c}})},i=!1,r=[];a._withStripped=!0},168:function(e,n,t){"use strict";t.r(n);var o=t(169),a=t.n(o);for(var i in o)"default"!==i&&function(e){t.d(n,e,(function(){return o[e]}))}(i);n["default"]=a.a},169:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(){t.e("components/uni-notice-bar/uni-notice-bar").then(function(){return resolve(t(226))}.bind(null,t)).catch(t.oe)},a=function(){t.e("components/uni-icon/uni-icon").then(function(){return resolve(t(240))}.bind(null,t)).catch(t.oe)},i=function(){t.e("components/uni-popup/uni-popup").then(function(){return resolve(t(233))}.bind(null,t)).catch(t.oe)},r=function(){t.e("components/share").then(function(){return resolve(t(247))}.bind(null,t)).catch(t.oe)},c=e.getRecorderManager(),s=e.createInnerAudioContext();s.autoplay=!0;var u={components:{uniNoticeBar:o,uniIcon:a,uniPopup:i,share:r},data:function(){return{title:"这是我的小程序，开始了",defaultKeyword:"111",keyword:"干电池",popupShow:!1,voicePath:"",startTiming:!1,drawTiming:!1,timeoutTiming:!1,maxTime:5e3,frame:50,imgUrl:"",swiper:[],isShowKeywordList:!1,keywordList:[],randOneObj:{garbageName:"干电池"},randomTip:"",simpleTips:["让垃圾找到自己的归属","请给垃圾找个合适的家","希望有一天，垃圾桶也会下岗","垃圾分类放，环境有保障","垃圾要分类，资源要利用","今天分一分，明天美十分","积极参与垃圾分类，共创优美社区环境","分类收集人人有责，男女老幼齐来参与","提高社区的品味，从垃圾分类开始","垃圾分类，举手之劳","配合垃圾分类，争做文明市民","垃圾分类益处多，环境保护靠你我","要是垃圾变为宝，分类回收不可少","请给垃圾找个合适的家","垃圾儿女要分家，安居乐业靠大家","垃圾分类人人做，做好分类为人人","让垃圾找到自己的归属","垃圾要分类，生活变美好","你我虽渺小，但意义重大","让垃圾找到自己的归属","请给垃圾找个合适的家"]}},onShow:function(){this.randOne(),this.randomTip=this.simpleTips[Math.round(20*Math.random())]},onLoad:function(){var n=this;console.log("typeid:"+getApp().globalData.typeid),n.imgUrl=this.imageUrl,console.log(this.imgUrl),e.request({url:n.serverUrl+"/slideShow",success:function(e){console.log(e),console.log(e.data.data),n.swiper=e.data.data}}),console.log(1),c.onStop((function(t){e.showLoading({title:"努力识别中..."}),n.voicePath=t.tempFilePath,n.popupShow=!1;var o=-.5,a=e.createCanvasContext("canvas");n.draw=setTimeout((function(){a.beginPath(),a.setStrokeStyle("#1296db"),a.setLineWidth(3),a.arc(0,0,0,-.5*Math.PI,(o+=2/(n.maxTime/n.frame))*Math.PI,!1),a.stroke(),a.draw()}),1),e.uploadFile({url:n.serverUrl+"/upload/record",filePath:n.voicePath,name:"file",success:function(t){console.log(t.data);var o=JSON.parse(t.data);console.log(o),console.log(o.data);var a=o.data,i=JSON.stringify(a.uni);n.keyword=a.keyword,n.isShowKeywordList=!0,n.keywordList=JSON.stringify(a.results),console.log(" keywordList"),console.log(n.keywordList),e.navigateTo({url:"/pages/search/search?keyword=".concat(n.keyword,"&keywordList=").concat(n.keywordList,"&uni=").concat(i)}),e.hideLoading()}})}))},methods:{getImage:function(e){return this.imageUrl+e},randOne:function(){var n=this;e.request({url:this.serverUrl+"/qb/randOne",success:function(e){console.log(e),console.log(e.data.data),n.randOneObj=e.data.data[0],n.keyword=e.data.data[0].garbageName}})},navigateTo:function(n){e.navigateTo({url:"/pages/webview/webview?url="+n})},searchKeyword:function(){var n=this;n.keyword&&e.request({url:n.serverUrl+"/qb/uniname/"+n.keyword,success:function(t){console.log(t);var o=t.data.data,a=JSON.stringify(o.uni),i=JSON.stringify(o.results);console.log(t.data.data),e.navigateTo({url:"/pages/search/search?type=3&keyword=".concat(n.keyword,"&keywordList=").concat(i,"&uni=").concat(a)})}})},readyRecord2:function(){e.navigateTo({url:"/pages/search/search?type=2"})},readyRecord:function(){this.popupShow=!0},start:function(){console.log("startTiming"),this.startTiming=setTimeout(this.recording,150)},end:function(){console.log("录音 end"),c.stop(),clearInterval(this.draw),clearTimeout(this.startTiming),clearTimeout(this.timeoutTiming),this.draw=!1,this.startTiming=!1,this.timeoutTiming=!1},recording:function(){var n=this;console.log("录音开始"),c.start();var t=-.5,o=e.createCanvasContext("canvas");n.draw=setInterval((function(){o.beginPath(),o.setStrokeStyle("#1296db"),o.setLineWidth(3),o.arc(75,75,50,-.5*Math.PI,(t+=2/(n.maxTime/n.frame))*Math.PI,!1),o.stroke(),o.draw()}),n.frame),n.timeoutTiming=setTimeout((function(){clearInterval(n.draw),n.draw=!1,console.log("时间到，录音结束"),c.stop()}),n.maxTime)},playVoice:function(){var e=this;console.log(" 点击 播放"),console.log(e.voicePath),e.voicePath&&(s.src=e.voicePath,s.play(),console.log("播放了声音"))},hidePopup:function(){this.popupShow=!1},handleSearchEvent:function(){console.log("click icon")},switchTabToClassify:function(n){console.log(n),getApp().globalData.typeid=n,e.switchTab({url:"/pages/type/type"})},gotoSearch:function(){e.navigateTo({url:"/pages/search/search"})},takePhoto2:function(){e.navigateTo({url:"/pages/search/search?type=1"})},takePhoto:function(){var n=this;e.chooseImage({count:1,success:function(t){n.imagePath=t.tempFilePaths[0],console.log(n.imagePath),e.showLoading({title:"努力识别中..."}),e.uploadFile({url:n.serverUrl+"/upload/image",filePath:t.tempFilePaths[0],name:"file",success:function(t){console.log(t.data);var o=JSON.parse(t.data);console.log(o),console.log(o.data);var a=o.data,i=JSON.stringify(a.uni);n.keyword=a.keyword,n.isShowKeywordList=!0,n.keywordList=JSON.stringify(a.results),console.log(" keywordList"),console.log(n.keywordList),e.navigateTo({url:"/pages/search/search?keyword=".concat(n.keyword,"&keywordList=").concat(n.keywordList,"&uni=").concat(i)})},complete:function(){e.hideLoading()}})}})}}};n.default=u}).call(this,t(1)["default"])},170:function(e,n,t){"use strict";t.r(n);var o=t(171),a=t.n(o);for(var i in o)"default"!==i&&function(e){t.d(n,e,(function(){return o[e]}))}(i);n["default"]=a.a},171:function(e,n,t){}},[[164,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/index.js.map